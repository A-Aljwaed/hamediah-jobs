<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout/base :: layout">
<section class="space-y-6">
    <div class="p-6 rounded bg-white border">
        <h1 class="text-3xl font-bold" th:text="#{index.headline}">Find your next job</h1>
        <p class="text-gray-600 mt-1" th:text="#{index.tagline}">Search and apply to jobs in English and Arabic.</p>

        <form action="/jobs" method="get" class="mt-4 flex gap-2">
            <input type="text" name="q" class="border rounded px-3 py-2 w-full"
                   th:placeholder="#{jobs.search.placeholder}" placeholder="Search jobs" />
            <button class="bg-black text-white px-4 py-2 rounded" th:text="#{jobs.search.button}">Search</button>
        </form>

        <div class="mt-3">
            <a href="/jobs" class="inline-block text-sm text-gray-700 hover:text-black underline" th:text="#{index.cta.explore}">Explore Jobs</a>
        </div>
    </div>

    <div class="space-y-3">
        <h2 class="text-xl font-semibold" th:text="#{jobs.list.title}">Latest jobs</h2>
        <div class="grid gap-3 md:grid-cols-2">
            <article class="p-4 bg-white border rounded" th:each="j,iter : ${recentJobs}" th:if="${iter.index} < 6">
                <div class="flex justify-between">
                    <h3 class="font-semibold text-lg">
                        <a th:href="@{/jobs/{id}(id=${j.id})}" th:text="${j.title}">Job title</a>
                    </h3>
                    <span class="text-xs text-gray-500" th:text="${#temporals.format(j.createdAt, 'yyyy-MM-dd')}">2025-01-01</span>
                </div>
                <p class="text-gray-700">
                    <span th:text="${j.company != null ? j.company.name : '—'}">Company</span>
                    <span> · </span>
                    <span th:text="${j.location}">Location</span>
                </p>
            </article>
        </div>
        <div>
            <a href="/jobs" class="text-sm text-gray-700 hover:text-black underline" th:text="#{jobs.view.all}">View all jobs</a>
        </div>
    </div>
</section>
</html>