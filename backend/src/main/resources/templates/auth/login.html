<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="layout/base :: layout">
<section>
  <div class="py-16 bg-gray-50">
    <div class="container">
      <div class="max-w-md mx-auto">
        <div class="card">
          <div class="text-center mb-8">
            <h1 class="text-3xl font-bold mb-2" th:text="#{auth.login.title}">Sign In</h1>
            <p class="text-gray-600">Welcome back! Please login to your account</p>
          </div>

          <!-- Error Messages -->
          <div th:if="${param.error}" class="alert alert-error mb-6">
            <div class="alert__icon">✕</div>
            <div class="alert__content">
              <div class="alert__message" th:text="#{auth.login.error}">
                Invalid username or password.
              </div>
            </div>
          </div>

          <!-- Success Messages -->
          <div th:if="${param.logout}" class="alert alert-success mb-6">
            <div class="alert__icon">✓</div>
            <div class="alert__content">
              <div class="alert__message" th:text="#{auth.logout.success}">
                You have been logged out successfully.
              </div>
            </div>
          </div>

          <!-- Login Form -->
          <form th:action="@{/login}" method="post" data-validate>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            
            <div class="form-group">
              <label for="username" class="form-label form-label--required" th:text="#{auth.username}">
                Username
              </label>
              <input id="username"
                     class="form-input" 
                     type="text" 
                     name="username" 
                     autocomplete="username"
                     required
                     placeholder="Enter your username" />
            </div>

            <div class="form-group">
              <label for="password" class="form-label form-label--required" th:text="#{auth.password}">
                Password
              </label>
              <input id="password"
                     class="form-input" 
                     type="password" 
                     name="password" 
                     autocomplete="current-password"
                     required
                     placeholder="Enter your password" />
            </div>

            <div class="form-group">
              <label class="d-flex align-center gap-2">
                <input type="checkbox" name="remember-me" />
                <span class="text-sm text-gray-700">Remember me</span>
              </label>
            </div>

            <button type="submit" class="btn btn-primary w-full btn-lg mb-4" th:text="#{auth.login.button}">
              Sign In
            </button>

            <div class="text-center">
              <a href="/forgot-password" class="text-sm text-brand hover:text-brand-hover">
                Forgot password?
              </a>
            </div>
          </form>

          <!-- Divider -->
          <div class="relative my-8">
            <div class="absolute inset-0 d-flex align-center">
              <div class="w-full border-t border-gray-200"></div>
            </div>
            <div class="relative d-flex justify-center text-sm">
              <span class="px-4 bg-white text-gray-500">Or continue with</span>
            </div>
          </div>

          <!-- Social Login (Optional) -->
          <div class="grid grid-cols-2 gap-3">
            <button type="button" class="btn btn-secondary">
              <svg width="16" height="16" fill="currentColor" aria-hidden="true">
                <path d="M16 8A8 8 0 1 0 6.76 15.1v-5h-2V8h2V6.3c0-2 1.2-3.1 3-3.1.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.2V8h2.2l-.4 2.1h-1.8v5A8 8 0 0 0 16 8z"/>
              </svg>
              Google
            </button>
            <button type="button" class="btn btn-secondary">
              <svg width="16" height="16" fill="currentColor" aria-hidden="true">
                <path d="M8 0C3.6 0 0 3.6 0 8c0 3.5 2.3 6.5 5.5 7.6.4.1.5-.2.5-.4v-1.4c-2.2.5-2.7-1-2.7-1-.4-.9-.9-1.2-.9-1.2-.7-.5.1-.5.1-.5.8.1 1.2.8 1.2.8.7 1.2 1.9.9 2.3.7.1-.5.3-.9.5-1.1-1.8-.2-3.6-.9-3.6-4 0-.9.3-1.6.8-2.1-.1-.2-.4-1 .1-2.1 0 0 .7-.2 2.2.8.6-.2 1.3-.3 2-.3s1.4.1 2 .3c1.5-1 2.2-.8 2.2-.8.4 1.1.2 1.9.1 2.1.5.6.8 1.3.8 2.1 0 3.1-1.9 3.7-3.7 3.9.3.3.6.8.6 1.5v2.2c0 .2.1.5.6.4C13.7 14.5 16 11.5 16 8c0-4.4-3.6-8-8-8z"/>
              </svg>
              GitHub
            </button>
          </div>

          <!-- Dev Credentials Notice -->
          <div class="mt-6 p-4 bg-gray-50 rounded-lg text-center">
            <p class="text-xs text-gray-500 font-mono">
              Dev: admin / password
            </p>
          </div>

          <!-- Sign Up Link -->
          <div class="mt-6 text-center text-sm">
            <span class="text-gray-600">Don't have an account?</span>
            <a href="/signup" class="text-brand hover:text-brand-hover font-semibold ml-1">
              Sign up now
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</html>